{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cyver\\\\Desktop\\\\react\\\\dorm-nisit\\\\client\\\\src\\\\components\\\\routes\\\\AdminRoute.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport LoadingToRedirect from './LoadingToRedirect';\nimport { currentAdmin } from '../functions/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminRoute = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const {\n    user\n  } = useSelector(state => ({\n    ...state\n  }));\n  const [ok, setOk] = useState(false);\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token).then(res => {\n        //res\n        console.log(res);\n        setOk(true);\n      }).catch(err => {\n        //err\n        console.log(err);\n        setOk(false);\n      });\n    }\n  }, []);\n  return ok ? children : /*#__PURE__*/_jsxDEV(LoadingToRedirect, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminRoute, \"Xs+ojxky5LuuprODwii3aP98amg=\", false, function () {\n  return [useSelector];\n});\n_c = AdminRoute;\nexport default AdminRoute;\nvar _c;\n$RefreshReg$(_c, \"AdminRoute\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","LoadingToRedirect","currentAdmin","AdminRoute","children","user","state","ok","setOk","token","then","res","console","log","catch","err"],"sources":["C:/Users/cyver/Desktop/react/dorm-nisit/client/src/components/routes/AdminRoute.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport LoadingToRedirect from './LoadingToRedirect'\r\nimport { currentAdmin } from '../functions/auth'\r\n\r\nconst AdminRoute = ({children}) => {\r\n\tconst { user } = useSelector((state)=>({...state}))\r\n  const [ ok, setOk ] = useState(false)\r\n\r\n  useEffect(()=>{\r\n    if(user && user.token){\r\n      currentAdmin(user.token)\r\n      .then(res=>{\r\n        //res\r\n        console.log(res)\r\n        setOk(true)\r\n      }).catch(err=>{\r\n        //err\r\n        console.log(err)\r\n        setOk(false)\r\n      })\r\n    }\r\n  },[])\r\n\r\n  return ok\r\n  ? children\r\n  : <LoadingToRedirect/>\r\n}\r\n\r\nexport default AdminRoute"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,YAAY,QAAQ,mBAAmB;AAAA;AAEhD,MAAMC,UAAU,GAAG,QAAgB;EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC;EAC7B,MAAM;IAAEC;EAAK,CAAC,GAAGL,WAAW,CAAEM,KAAK,KAAI;IAAC,GAAGA;EAAK,CAAC,CAAC,CAAC;EAClD,MAAM,CAAEC,EAAE,EAAEC,KAAK,CAAE,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAErCD,SAAS,CAAC,MAAI;IACZ,IAAGO,IAAI,IAAIA,IAAI,CAACI,KAAK,EAAC;MACpBP,YAAY,CAACG,IAAI,CAACI,KAAK,CAAC,CACvBC,IAAI,CAACC,GAAG,IAAE;QACT;QACAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBH,KAAK,CAAC,IAAI,CAAC;MACb,CAAC,CAAC,CAACM,KAAK,CAACC,GAAG,IAAE;QACZ;QACAH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;QAChBP,KAAK,CAAC,KAAK,CAAC;MACd,CAAC,CAAC;IACJ;EACF,CAAC,EAAC,EAAE,CAAC;EAEL,OAAOD,EAAE,GACPH,QAAQ,gBACR,QAAC,iBAAiB;IAAA;IAAA;IAAA;EAAA,QAAE;AACxB,CAAC;AAAA,GAtBKD,UAAU;EAAA,QACEH,WAAW;AAAA;AAAA,KADvBG,UAAU;AAwBhB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module"}